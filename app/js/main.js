(()=>{"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t){t.preventDefault();const e=t.target.closest("[href]").getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})}function s(t,e){if(!e)return void(t.style.paddingRight=0);let i=window.innerWidth-document.body.offsetWidth+"px";t.style.paddingRight=i}function n(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(t&&t instanceof HTMLElement))return null;let e=window.getComputedStyle(t);return e.transitionDuration?1e3*parseFloat(e.transitionDuration):0}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class a{constructor(){let{selector:t=null,closeBtn:e=null,selectorActive:i="open",apiAnimation:s=null,apiBlockFocus:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,"_isOpen",!1),l(this,"_firstDiscovery",new CustomEvent("first-discovery")),l(this,"_transitionDuration",void 0),l(this,"_listFuncForFirstDiscovery",new Set),this._Modal="string"==typeof t?document.querySelector(t):null,this._closeBtn="string"==typeof e?document.querySelector(e):null,this._selectorActive="string"==typeof i?i:"open",this._apiAnimation="[object Object]"===Object.prototype.toString.call(s)?s:null,this._apiBlockFocus="[object Object]"===Object.prototype.toString.call(n)?n:null}init(){if(!this._Modal||!this._closeBtn)throw new Error("Invalid type passed");this._Modal.addEventListener("first-discovery",(()=>{for(let t of this._listFuncForFirstDiscovery)t()}),{once:!0}),this._transitionDuration=n(this._Modal),this._Modal.addEventListener("click",(t=>{t.target!==this._Modal||this._disabled||this.toggleState()})),this._closeBtn.addEventListener("click",(t=>{this.toggleState()}))}toggleState(){let t=document.body;this._isOpen?this._hide():(this._show(),setTimeout((()=>{this._closeBtn.focus()}),this._transitionDuration)),this._Modal.dispatchEvent(this._firstDiscovery),this._toggleBlockFocus(),s(t,this._isOpen),s(this._Modal,this._isOpen),t.classList.toggle("overflow-hidden"),this._Modal.classList.toggle(this._selectorActive)}_show(){var t;null===(t=this._apiAnimation)||void 0===t||t.show(this._Modal),this._apiAnimation||(this._Modal.style.display="block"),this._isOpen=!0}_hide(){var t;null===(t=this._apiAnimation)||void 0===t||t.hide(this._Modal),this._apiAnimation||(this._Modal.style.display="none"),this._isOpen=!1}isOpen(){return this._isOpen}resize(t){window.addEventListener("resize",(e=>{t(e)}))}_toggleBlockFocus(){var t;null===(t=this._apiBlockFocus)||void 0===t||t.toggleBlock()}eventFirstDiscovery(t){this._listFuncForFirstDiscovery.add(t)}}function h(t,e,i){document.querySelectorAll(t).forEach((t=>{t.addEventListener("keydown",(t=>{t.key===e&&i(t.target)}))}))}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class u{constructor(){let{exceptionContainer:t=null,caching:e=!0,single:i=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,"_listFunctionToBlock",[this._checkTabIndex,this._checkExceptionContainer.bind(this),this._checkDomElement.bind(this)]),this._exceptionContainer="string"==typeof t?t:null,this._caching=Boolean(e),this._arrSingle=Array.isArray(i)?i:null}toggleBlock(){if(u._blocked)return this._unblockingElements(),void(u._blocked=!1);this._blockingElements(),u._blocked=!0}_blockingElements(){if(this._caching&&u._listBlockedElements.size)for(let t of u._listBlockedElements)t.setAttribute("tabIndex",-1);else document.querySelectorAll("*").forEach((t=>{this._iterateOverBlockingFunctions(t)&&(t.setAttribute("tabIndex",-1),u._listBlockedElements.add(t))}))}_unblockingElements(){for(let t of u._listBlockedElements)t.setAttribute("tabIndex",0)}_iterateOverBlockingFunctions(t){return this._listFunctionToBlock.every((e=>e(t)))}_checkTabIndex(t){return 0===t.tabIndex}_checkExceptionContainer(t){return!t.closest(this._exceptionContainer)}_checkDomElement(t){var e;return!(null!==(e=this._arrSingle)&&void 0!==e&&e.some((e=>e===t)))}addBlockingFunction(t){"function"==typeof t&&this._listFunctionToBlock.push(t)}blocked(){return u._blocked}}c(u,"_blocked",!1),c(u,"_listBlockedElements",new Set);class d{constructor(t){let{display:e="block",duration:i=600}=t;this._display=e,this._duration=i}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t&&t instanceof HTMLElement)return t.style.display=this._display,new Promise((e=>{setTimeout((()=>{t.style.opacity=1,t.style.visibility="visible",e()}),0)}))}hide(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t&&t instanceof HTMLElement)return t.style.opacity=0,t.style.visibility="hidden",new Promise((e=>{setTimeout((()=>{t.style.display="none",e()}),this._duration)}))}getAnimationClass(){return"fade-animation"}}h(".custom-radio","Enter",(t=>{t.querySelector("input").checked=!0})),h(".custom-checkbox","Enter",(t=>{let e=t.querySelector("input");e.checked=!e.checked})),document.querySelectorAll(".smooth-scroll").forEach((t=>{t.addEventListener("click",i)})),document.querySelectorAll(".guests .tabs__trigger").forEach((t=>{t.addEventListener("click",(t=>{document.body.offsetWidth>=768||i(t)}))})),new class{constructor(){let{hiddenElements:e=null,trigger:i=null,output:s,apiAnimation:n=null,breakpoints:r=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,"_listUpdateProperties",new Map),t(this,"_isOpen",!1),t(this,"_currentBreakpoint",void 0),this._hiddenElements="string"==typeof e?document.querySelectorAll(e):null,this._trigger="string"==typeof i?document.querySelector(i):null,this._output=s,this._apiAnimation="[object Object]"===Object.prototype.toString.call(n)?n:null,this._breakpoints="[object Object]"===Object.prototype.toString.call(r)?r:null}init(){if(!this._hiddenElements||!this._trigger)throw new Error("Invalid type passed");this._trigger.addEventListener("click",(t=>{this.iterateOverHiddenElements(((t,e)=>{e>=this._output&&this.show(t)})),this.hide(t.target),this._isOpen=!0})),this._checkBreakpoints()?(this._listUpdateProperties.set("output",[this._updateOutput.bind(this)]),this._updateValues(),this.resize((()=>{this._isOpen||this._updateValues()}))):this._toggleHidden()}iterateOverHiddenElements(t){this._hiddenElements.forEach(((e,i)=>{t(e,i)}))}show(t){t.dataset.open="true",this._apiAnimation?this._apiAnimation.show(t):t.style.display="block"}hide(t){t.dataset.open="false",this._apiAnimation?this._apiAnimation.hide(t):t.style.display="none"}_toggleHidden(){this.iterateOverHiddenElements(((t,e)=>{e<this._output?this.show(t):this.hide(t)}))}_updateOutput(t){this._output!==t&&(this._output=t,this._toggleHidden())}_updateValues(){let t=this._getActualBreakpoint();if(t===this._currentBreakpoint)return;this._currentBreakpoint=t;let e=this._getDataFromBreakpointList(t);this._recordingActualValues(e)}_checkBreakpoints(){return!!this._breakpoints}_getActualBreakpoint(){let t=document.body.offsetWidth;return Object.keys(this._breakpoints).reduce(((e,i)=>(t>=i&&(e=i),e)),0)}_getDataFromBreakpointList(t){return this._breakpoints[t]}_recordingActualValues(t){for(let e in t){let i=this._listUpdateProperties.get(e);if("function"==typeof i)return void i();i.forEach((i=>{i(t[e])}))}}resize(t){window.addEventListener("resize",(e=>{t(e)}))}addUpdateProperties(t,e){if("string"!=typeof t)throw new Error("Invalid data type passed");if("function"!=typeof e)throw new Error("Invalid data type passed");Array.isArray(e)?this._listUpdateProperties.set(t,e):this._listUpdateProperties.set(t,[e])}}({hiddenElements:".podcasts__item",trigger:".podcasts__button",breakpoints:{0:{output:4},1024:{output:8}}}).init();const _=new class{constructor(){var t;let{selector:e=null,trigger:i=null,selectorActive:s="open",triggerActive:n="open",apiAnimation:o=null,apiBlockFocus:l=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,"_disabled",!1),r(this,"_isOpen",!1),r(this,"_transitionDuration",void 0),this._burgerMenu="string"==typeof e?document.querySelector(e):null,this._trigger="string"==typeof i?document.querySelector(i):null,this._closeLink=null===(t=this._burgerMenu)||void 0===t?void 0:t.querySelectorAll(".burger-menu__link_close"),this._triggerActive="string"==typeof n?n:"open",this._selectorActive="string"==typeof s?s:"open",this._apiAnimation="[object Object]"===Object.prototype.toString.call(o)?o:null,this._apiBlockFocus="[object Object]"===Object.prototype.toString.call(l)?l:null}init(){var t;if(!this._burgerMenu||!this._trigger)throw new Error("Invalid type passed");this._transitionDuration=n(this._burgerMenu)??0,this._trigger.addEventListener("click",(t=>{this._disabled||(this.toggleState(),this._toggleDisabledTrigger())})),this._burgerMenu.addEventListener("click",(t=>{t.target!==this._burgerMenu||this._disabled||(this.toggleState(),this._toggleDisabledTrigger())})),this.resize((()=>{document.body.offsetWidth>=1024&&this.isOpen()&&this.toggleState()})),null===(t=this._closeLink)||void 0===t||t.forEach((t=>{t.addEventListener("click",(()=>{this.toggleState()}))}))}toggleState(){let t=document.body;this._isOpen?this._hide():this._show(),this._toggleBlockFocus(),s(t,this._isOpen),s(this._burgerMenu,this._isOpen),t.classList.toggle("overflow-hidden"),this._burgerMenu.classList.toggle(this._selectorActive),this._trigger.classList.toggle(this._triggerActive)}_toggleDisabledTrigger(){this._disabled=!0,new Promise((t=>{setTimeout((()=>t()),this._transitionDuration)})).then((()=>{this._disabled=!1}))}_show(){var t;null===(t=this._apiAnimation)||void 0===t||t.show(this._burgerMenu),this._apiAnimation||(this._burgerMenu.style.display="block"),this._isOpen=!0}_hide(){var t;null===(t=this._apiAnimation)||void 0===t||t.hide(this._burgerMenu),this._apiAnimation||(this._burgerMenu.style.display="none"),this._isOpen=!1}isOpen(){return this._isOpen}resize(t){window.addEventListener("resize",(e=>{t(e)}))}_toggleBlockFocus(){var t;null===(t=this._apiBlockFocus)||void 0===t||t.toggleBlock()}}({selector:".burger-menu",trigger:".header__burger-button",selectorActive:"burger-menu_active",triggerActive:"burger-button_active",apiAnimation:new d({display:"block",duration:400}),apiBlockFocus:new u({exceptionContainer:".burger-menu",single:[document.querySelector(".header__burger-button")]})});_.init();const g=new class{constructor(t){let{selector:e,initialValue:i=null}=t;this.accordion=document.querySelector(e),this.triggers=document.querySelectorAll(".accordion__trigger"),this.activeElement=i}init(){this.activeElement&&this._showElement(this.activeElement.querySelector(".accordion__body")),this.triggers.forEach((t=>{t.addEventListener("click",(t=>{this.toggleActive(t.target.closest(".accordion__item"))}))}))}toggleActive(t){let e=t.querySelector(".accordion__body");return this.activeElement?this.activeElement===t?(this._hideElement(e),void(this.activeElement=null)):(this._hideElement(this.activeElement.querySelector(".accordion__body")),this.activeElement=t,void this._showElement(e)):(this.activeElement=t,void this._showElement(e))}_showElement(t){let e=t.scrollHeight;this.activeElement.classList.toggle("accordion__item_active"),t.style.cssText=`\n    max-height: ${e}px;\n    overflow: ;\n    visibility: visible;\n    `}resize(t){window.addEventListener("resize",t)}updateHeight(){if(!this.activeElement)return;let t=this.activeElement.querySelector(".accordion__body"),e=t.scrollHeight;t.style.maxHeight=`${e}px`}_hideElement(t){this.activeElement.classList.toggle("accordion__item_active"),t.style.cssText="\n    max-height: 0;\n    overflow: hidden;\n    visibility: hidden;\n    "}}({selector:".guests__accordion",initialValue:document.querySelectorAll(".accordion__item")[0]});g.init(),new class{constructor(t){let{tabs:e,tabsContentWrapper:i,initialValue:s=null}=t;this.tabs=document.querySelectorAll(e),this.tabsContentWrapper=document.querySelector(i),this.activeElement=s,this._tabsContentWrapperStyle=getComputedStyle(this.tabsContentWrapper),this.animationDuration=1e3*parseFloat(this._tabsContentWrapperStyle.transitionDuration)}init(){this.activeElement&&this.showContent(this.activeElement.querySelector(".tabs__hide-content")),this.tabs.forEach((t=>{t.querySelectorAll(".tabs__trigger").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),this.toggleActive(t.target.closest(".tabs__item"))}))}))}))}toggleActive(t){t!==this.activeElement&&(this.fadeIn(this.tabsContentWrapper),setTimeout((()=>{this.hideContent(),this._toggleClassActive(t),this.showContent(t.querySelector(".tabs__hide-content")),this.fadeOut(this.tabsContentWrapper)}),this.animationDuration))}_toggleClassActive(t){var e;null===(e=this.activeElement)||void 0===e||e.classList.toggle(".tabs__item_active"),this.activeElement=t,this.activeElement.classList.toggle(".tabs__item_active")}showContent(t){this.tabsContentWrapper.insertAdjacentHTML("beforeend",t.innerHTML)}hideContent(){this.tabsContentWrapper.textContent=""}fadeIn(t){t&&(t.style.opacity=0)}fadeOut(t){t&&(t.style.opacity=1)}resize(t){window.addEventListener("resize",t)}}({tabs:".guests__tabs",tabsContentWrapper:".guests__tabs-content-wrapper",initialValue:document.querySelector(".tabs__item_active")}).init();const p=new class{constructor(t){let{selector:e,trigger:i,selectorActive:s,triggerActive:n,animationDuration:r=null}=t;this._etherDrop=document.querySelector(e),this._trigger=document.querySelector(i),this._selectorActive=s,this._triggerActive=n,this._animationDuration=r,this._etherDropStyle=getComputedStyle(this._etherDrop),this._status=!1,this._disabledEtherDrop=!1}init(){this._animationDuration||this._setAnimationDurationFromStyle(),this._trigger.addEventListener("click",(t=>{t.target.disabled||(t.preventDefault(),this.toggleEtherDrop(),this._toggleDisabled())}))}toggleEtherDrop(){this._disabledEtherDrop||(this._status=!this._status,this._animation(),this._etherDrop.classList.toggle(this._selectorActive),this._trigger.classList.toggle(this._triggerActive))}_toggleDisabled(){this._disabledEtherDrop=!0,setTimeout((()=>{this._disabledEtherDrop=!1}),this._animationDuration)}_setAnimationDurationFromStyle(){this._animationDuration=1e3*parseFloat(this._etherDropStyle.transitionDuration)}_animation(){!function(t){let{element:e,boolean:i,duration:s,value:n}=t;i?e.style.zIndex=n:setTimeout((()=>{e.style.zIndex=-1}),s)}({element:this._etherDrop,boolean:this._status,duration:this._animationDuration,value:50})}}({selector:".header__ether-drop",trigger:".header__ether-trigger",selectorActive:"ether-drop_active",triggerActive:"ether-trigger_active"});p.init();const m=new class extends a{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"open",arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null)}}({selector:".feedback-modal",selectorActive:"feedback-modal_active",closeBtn:".feedback-modal .modal__close",apiAnimation:new d({display:"flex",duration:400}),apiBlockFocus:new u({exceptionContainer:".feedback-modal"})});m.init();const v=new class{constructor(t){o(this,"_listRules",new Map),o(this,"_listValidateItems",new Map),o(this,"_isValid",!1),this._form=document.querySelector(t)}init(){this._listRules.set("minLength",this._minLength),this._listRules.set("maxLength",this._maxLength),this._listRules.set("text",this._text),this._listRules.set("requered",this._requered),this._listRules.set("email",this._email)}submit(t){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._checkValidate(),this._isValid&&t(e)}))}addRules(t,e){document.querySelectorAll(t).forEach((t=>{this._setRule(t,e)}))}addCustomValidate(t,e){this._listRules.set(t,e)}_setRule(t,e){let i=[];e.forEach((e=>{let{rule:s,...n}=e,r=this._listRules.get(s);i.push(r.bind(null,{...n,element:t}))})),this._listValidateItems.set(t,i)}_checkValidate(){let t=!0;for(let e of this._listValidateItems.keys())this._checkValidateOneItem(e)||(t=!1);this._isValid=!!t}_checkValidateOneItem(t){let e,i=this._listValidateItems.get(t),s=!0;return i.every((t=>{let{validate:i,errorMessage:n}=t();return!!i||(s=!s,e=n,!1)})),s?(this._hideErrorMessage(t),!0):(this._showErrorMessage(t,e),!1)}_showErrorMessage(t,e){this._showErrorMessageAfterInput(t,e)}_hideErrorMessage(t){this._hideErrorMessageAfterInput(t)}_showErrorMessageAfterInput(t,e){let i=t.nextElementSibling;this._searchErrorMessageElement(i,(i=>{i.textContent=e,t.classList.add("validate-error"),i.classList.add("validate-error-message_show")}))}_hideErrorMessageAfterInput(t){let e=t.nextElementSibling;this._searchErrorMessageElement(e,(e=>{t.classList.remove("validate-error"),e.classList.remove("validate-error-message_show")}))}_searchErrorMessageElement(t,e){t.classList.contains("validate-error-message")?e(t):this._searchErrorMessageElement(t.nextElementSibling,e)}_minLength(t){let{element:e,value:i,errorMessage:s=null}=t,n=e.value.trim();return n.length<i&&""!==n?{validate:!1,errorMessage:s}:{validate:!0}}_maxLength(t){let{element:e,value:i,errorMessage:s=null}=t;return e.value.trim().length>i?{validate:!1,errorMessage:s}:{validate:!0}}_requered(t){let{element:e,errorMessage:i=null}=t;return""==e.value.trim()?{validate:!1,errorMessage:i}:{validate:!0}}_text(t){let{element:e,errorMessage:i=null}=t,s=e.value.trim();return/[^a-zA-ZА-Яа-я]/.test(s)&&""!==s?{validate:!1,errorMessage:i}:{validate:!0}}_email(t){let{element:e,errorMessage:i=null}=t,s=e.value.trim();return 0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(s)&&""!==s?{validate:!1,errorMessage:i}:{validate:!0}}}(".feedback");v.init(),v.addRules(".feedback__input_text",[{rule:"text",errorMessage:"Поле может содержать только буквы!"},{rule:"maxLength",value:21,errorMessage:"Максимальное значениe - 21 символ!"},{rule:"minLength",value:2,errorMessage:"Минимальное значениe - 2 символа!"},{rule:"requered",errorMessage:"Необходимо заполнить это поле!"}]),v.addRules(".feedback__input_email",[{rule:"email",errorMessage:"Введите корректный e-mail!"},{rule:"maxLength",value:40,errorMessage:"Максимальное значениe - 40 символов!"},{rule:"minLength",value:8,errorMessage:"Минимальное значениe - 8 символов!"},{rule:"requered",errorMessage:"Необходимо заполнить это поле!"}]),v.submit((t=>{let e=new FormData(t.target),i=document.querySelector(".feedback-modal .title");function s(){m.toggleState(),setTimeout((()=>{m.isOpen()&&m.toggleState()}),2500)}function n(t,e){i.classList.remove(t),i.classList.add(e)}fetch("mail.php",{method:"POST",body:e}).then((()=>{i.textContent="Обращение успешно отправлено!",n("feedback-modal__title_error","feedback-modal__title_success"),s(),t.target.reset()})).catch((()=>{i.textContent="Ошибка! Попробуйте еще раз.",n("feedback-modal__title_success","feedback-modal__title_error"),s()}))}));const y=new class extends class extends class{constructor(){var t,i,s,n,r,o;let{selector:l=null,apiAnimation:a=null,output:h=6,breakpoints:c=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,"_isOpen",!1),e(this,"_toggleBind",this.toggle.bind(this)),e(this,"_currentBreakpoint",void 0),e(this,"_listUpdateProperties",new Map),e(this,"_destroy",void 0),e(this,"_destroyList",new Set([this._destroyTrigger.bind(this),this._destroyAnimationBody.bind(this),this._destroyOutput.bind(this),this._destroySelectActive.bind(this),this._destroyStyleBody.bind(this)])),this._select="string"==typeof l?document.querySelector(l):null,this._apiAnimation="[object Object]"===Object.prototype.toString.call(a)?a:null,this._breakpoints="[object Object]"===Object.prototype.toString.call(c)?c:null,this._output="number"==typeof h?h:6,this._trigger=null===(t=this._select)||void 0===t?void 0:t.querySelector(".select__trigger"),this._body=null===(i=this._select)||void 0===i?void 0:i.querySelector(".select__body"),this._content=null===(s=this._select)||void 0===s?void 0:s.querySelector(".select__content"),this._items=null===(n=this._select)||void 0===n?void 0:n.querySelectorAll(".select__item"),this._moreBtn=null===(r=this._select)||void 0===r?void 0:r.querySelector(".select__more-btn"),this._amountItems=null===(o=this._items)||void 0===o?void 0:o.length}init(){if(!this._select)throw new Error("Invalid type passed");this._checkBreakpoints()&&(this._currentBreakpoint=this._getActualBreakpoint(),this.resize((()=>{this._destroy||this._updateValues()}))),this._setOutput(),this._hide(),this._destroy=!1,this._apiAnimation&&this._body.classList.add(this._apiAnimation.getAnimationClass()),this._trigger.addEventListener("click",this._toggleBind),this.resize((()=>{this.isOpen()&&!this._destroy&&this._apiAnimation.recalculationHeight(this._body)}))}toggle(t){this._isOpen?this._hide():this._show()}_show(){this._apiAnimation?this._apiAnimation.show(this._body):this._body.style.display="block",this._isOpen=!0,this._select.classList.add("select_active")}_hide(){var t;this._apiAnimation?null===(t=this._apiAnimation)||void 0===t||t.hide(this._body):this._body.style.display="none",this._isOpen=!1,this._select.classList.remove("select_active")}resize(t){window.addEventListener("resize",(e=>{t(e)}))}isOpen(){return this._isOpen}_setOutput(){if(this._breakpoints){let t=this._getDataFromBreakpointList(this._currentBreakpoint);if(!t.output)return;this._output=t.output,this._listUpdateProperties.set("output",[this._updateOutput.bind(this)])}else if(!this._output)return void this._hideMoreButton();this._checkOutput()?(this._toggleVisibleItems(),this._setStyleContentContainer(),this._showMoreButton(),this._showAmountHideElements(),this._clickOnShowMoreBtn()):this._hideMoreButton()}_updateOutput(t){this._output!==t&&(this._output=t,this._toggleVisibleItems(),this._setStyleContentContainer(),this._checkOutput()?(this._showMoreButton(),this._showAmountHideElements(),this._clickOnShowMoreBtn()):this._hideMoreButton())}_checkOutput(){return this._amountItems>this._output}_iterationOnItems(t){this._items.forEach(((e,i)=>t(e,i)))}_toggleVisibleItems(){this._iterationOnItems(((t,e)=>{e>=this._output?t.style.display="none":t.style.display="block"}))}_setStyleContentContainer(){let t=this._content.scrollHeight;this._content.style.cssText=`\n      max-height:${t}px;\n      overflow:hidden;\n    `}_showMoreButton(){this._moreBtn.style.display="block"}_hideMoreButton(){this._moreBtn.style.display="none"}_showAmountHideElements(){this._moreBtn.querySelector(".select__more-btn-amount")&&(this._moreBtn.querySelector(".select__more-btn-amount").textContent=""+(this._amountItems-this._output))}_clickOnShowMoreBtn(){this._moreBtn.addEventListener("click",(()=>{this._iterationOnItems((t=>t.style.display="block")),this._content.style.overflow="auto",this._moreBtn.dataset.open="true",this._moreBtn.style.display="none"}),{once:!0})}_updateValues(){let t=this._getActualBreakpoint();if(t===this._currentBreakpoint)return;this._currentBreakpoint=t;let e=this._getDataFromBreakpointList(t);this._recordingActualValues(e)}_checkBreakpoints(){return!!this._breakpoints}_getActualBreakpoint(){let t=document.body.offsetWidth;return Object.keys(this._breakpoints).reduce(((e,i)=>(t>=i&&(e=i),e)),0)}_getDataFromBreakpointList(t){return this._breakpoints[t]}_recordingActualValues(t){for(let e in t){let i=this._listUpdateProperties.get(e);Array.isArray(i)?this._listUpdateProperties.get(e).forEach((i=>{i(t[e])})):i()}}_addDestroy(t){this._destroyList.add(t)}destroy(){this._destroy=!0;for(let t of this._destroyList)t()}_destroyStyleBody(){this._body.style.cssText=""}_destroySelectActive(){this._select.classList.remove("select_active")}_destroyTrigger(){this._trigger.removeEventListener("click",this._toggleBind)}_destroyAnimationBody(){this._apiAnimation&&this._body.classList.remove(this._apiAnimation.getAnimationClass())}_destroyOutput(){this._moreBtn.dataset.open=!1,this._moreBtn.style.display="none",this._content.style.cssText="\n      max-height: 100%;\n    ",this._iterationOnItems((t=>t.style.display="block"))}}{constructor(){var t;let{selector:i=null,apiAnimation:s=null,output:n=6,breakpoints:r=null,initialValue:o="Выберите значение"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({selector:i,apiAnimation:s,output:n,breakpoints:r}),e(this,"_currentValue",void 0),this._initialValue="string"==typeof o?o:"Выберите значение",this._currentItemHTML=null===(t=this._select)||void 0===t?void 0:t.querySelector(".select__current-item")}init(){super.init(),this._insertInitialValue()}_insertInitialValue(){}_showCurrentValue(){}_setCurrentValue(){}getCurrentValue(){}}{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Выберите значение",arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),e(this,"_currentValue",""),e(this,"_clickOnOptionBindThis",this._clickOnOption.bind(this))}init(){super.init(),this._content.addEventListener("click",this._clickOnOptionBindThis),this._addDestroy(this._destroyContentEvent.bind(this)),this._addDestroy(this._destroyCurrentValue.bind(this))}_clickOnOption(t){t.target.classList.contains("select__item")&&this._setCurrentValue(t.target,t.target.dataset.key)&&this._hide()}_insertInitialValue(){let t=this._body.querySelector(`[data-key="${this._initialValue}"]`);t?this._setCurrentValue(t,t.dataset.key):(this._currentItemHTML.classList.add("select__current-item_text"),this._currentItemHTML.textContent=this._initialValue)}_setCurrentValue(t,e){if(e!==this._currentValue){if(this._currentValue){let t=this._body.querySelector(`[data-key="${this._currentValue}"]`);t.classList.remove("select__item_selected"),t.disabled=!1}return this._currentValue=e,t.classList.add("select__item_selected"),t.disabled=!0,this._showCurrentValue(t.textContent),!0}}_showCurrentValue(t){this._currentItemHTML.textContent=t}getCurrentValue(){return this._currentValue}_destroyContentEvent(){this._content.removeEventListener("click",this._clickOnOptionBindThis)}_destroyCurrentValue(){var t;null===(t=document.querySelector(`[data-key="${this._currentValue}"]`))||void 0===t||t.classList.remove("select__item_selected"),this._currentValue=""}}({selector:".author-select",initialValue:"Дмитрий Гутенберг",apiAnimation:new class{show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(t&&t instanceof HTMLElement))return;let e=t.scrollHeight;t.style.cssText=`\n      max-height: ${e}px;\n      visibility: visible;\n    `}hide(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t instanceof HTMLElement&&(t.style.cssText="\n      max-height: 0;\n      overflow: hidden;\n      visibility: hidden;\n    ")}recalculationHeight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(t&&t instanceof HTMLElement))return;let e=t.scrollHeight;e!==parseFloat(t.style.maxHeight)&&(t.style.maxHeight=`${e}px`)}getAnimationClass(){return"animation-height"}},output:3});y.init();const b=new class extends a{constructor(){let{selector:t=null,openBtns:e=null,closeBtn:i=null,selectorActive:s="open",apiAnimation:n=null,apiBlockFocus:r=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({selector:t,closeBtn:i,selectorActive:s,apiAnimation:n,apiBlockFocus:r}),l(this,"_disabled",!1),this._openBtns="string"==typeof e?document.querySelectorAll(e):null}init(){if(!this._openBtns)throw new Error("Invalid type passed");super.init(),this._openBtns.forEach((t=>t.addEventListener("click",(t=>{this._disabled||(this.toggleState(),this._toggleDisabledTrigger())})))),this._openBtns.forEach((t=>t.addEventListener("keydown",(t=>{"Enter"!==t.code&&"Space"!==t.code||this._disabled||(this.toggleState(),this._toggleDisabledTrigger())}))))}_toggleDisabledTrigger(){this._disabled=!0,new Promise((t=>{setTimeout((()=>t()),this._transitionDuration)})).then((()=>{this._disabled=!1}))}}({selector:".login-modal",openBtns:".login-trigger",closeBtn:".login-modal .modal__close",selectorActive:"login-modal_active",apiAnimation:new d({display:"flex",duration:400}),apiBlockFocus:new u({exceptionContainer:".login-modal"})});b.init(),g.resize((()=>{g.updateHeight()}))})();